# `ic-static-assets`

Embed static frontend assets into your Rust backend canister.

## Usage

Add the crate to your `Cargo.toml` file:

```toml
[dependencies]
ic-static-assets = { git = "https://github.com/ilbertt/ic-static-assets" }
```

Then, in your backend code, use the `include_assets` macro to embed the frontend assets into the backend:

```rust
use ic_cdk::{init, post_upgrade, query};
use ic_http_certification::{HttpRequest, HttpResponse};
use ic_static_assets::include_assets;

// This is the important line that embeds the frontend assets into the backend!
include_assets!("$CARGO_MANIFEST_DIR/../frontend/dist");

#[init]
fn init() {
    certify_assets_hook(); // <- generated by the `include_assets` macro, no need to import it
}

#[post_upgrade]
fn post_upgrade() {
    certify_assets_hook();
}

#[query]
fn http_request(req: HttpRequest<'static>) -> HttpResponse<'static> {
    http_request_handler(&req) // <- generated by the `include_assets` macro, no need to import it
}
```

See the [example](./examples/basic) for more details.

## Usage with custom router

If you need to access the `AssetRouter`, you can use the `include_assets` macro with custom router functions.
See the [with-custom-router](./examples/with-custom-router) example for more details.

## License

This project is licensed under the MIT License - see the [LICENSE](./LICENSE) file for details.
